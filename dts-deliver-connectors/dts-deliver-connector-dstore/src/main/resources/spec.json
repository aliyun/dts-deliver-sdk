{
  "documentationUrl": "https://docs.dts.com/integrations/destinations/kafka",
  "supportsIncremental": true,
  "supportsNormalization": false,
  "supportsDBT": false,
  "supported_destination_sync_modes": ["append"],
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Kafka Destination Spec",
    "type": "object",
    "required": [
      "bootstrap_servers",
      "dts_topic",
      "dts_sid",
      "dts_user",
      "dts_password",
      "aliyun_user_ak",
      "aliyun_user_password"
    ],
    "additionalProperties": true,
    "properties": {
      "bootstrap_servers": {
        "title": "Bootstrap Servers",
        "description": "A list of host/port pairs to use for establishing the initial connection to the DStore cluster. The client will make use of all servers irrespective of which servers are specified here for bootstrapping&mdash;this list only impacts the initial hosts used to discover the full set of servers. This list should be in the form <code>host1:port1,host2:port2,...</code>. Since these servers are just used for the initial connection to discover the full cluster membership (which may change dynamically), this list need not contain the full set of servers (you may want more than one, though, in case a server is down).",
        "type": "string",
        "examples": ["dproxy:9092"]
      },
      "dts_topic": {
        "title": "DTS Topic",
        "description": "Topic to DTS for produce messages.",
        "type": "string",
        "examples": ["dts.topic"]
      },
      "dts_sid": {
        "title": "DTS channel sid",
        "description": "DTS channel sid.",
        "type": "string",
        "examples": ["dts.sid"]
      },
      "dts_user": {
        "title": "DTS User",
        "description": "User to auth.",
        "type": "string",
        "examples": ["dts.user"]
      },
      "dts_password": {
        "title": "DTS Password",
        "description": "Password to auth.",
        "type": "string",
        "examples": ["dts.password"]
      },
      "aliyun_user_ak": {
        "title": "Aliyun User AK",
        "description": "User ak to get the DTS dblist.",
        "type": "string",
        "examples": ["aliyun.user.ak"]
      },
      "aliyun_user_password": {
        "title": "Aliyun User Secret",
        "description": "User secret to get the DTS dblist.",
        "type": "string",
        "examples": ["aliyun.user.secret"]
      },
      "batch_size": {
        "title": "Batch Size",
        "description": "The producer will attempt to batch records together into fewer requests whenever multiple records are being sent to the same partition.",
        "type": "integer",
        "default": 8388608,
        "examples": [8388608]
      },
      "buffer_memory": {
        "title": "Buffer memory",
        "description": "The producer will attempt to batch records together into fewer requests whenever multiple records are being sent to the same partition.",
        "type": "integer",
        "default": 50331648,
        "examples": [8388608]
      },
      "request_timeout_ms": {
        "title": "Request timeout ms",
        "description": "he configuration controls the maximum amount of time the client will wait for the response of a request.",
        "type": "integer",
        "default": 60000,
        "examples": [60000]
      },
      "compression_type": {
        "title": "Compression Type",
        "description": "The compression type for all data generated by the producer.",
        "type": "string",
        "default": "lz4",
        "enum": ["none", "gzip", "snappy", "lz4", "zstd"]
      },
      "send_buffer_bytes": {
        "title": "Send Buffer bytes",
        "description": "The size of the TCP send buffer (SO_SNDBUF) to use when sending data. If the value is -1, the OS default will be used.",
        "type": "integer",
        "default": 8388608,
        "examples": [8388608]
      },
      "receive_buffer_bytes": {
        "title": "Receive Buffer bytes",
        "description": "The size of the TCP receive buffer (SO_RCVBUF) to use when reading data. If the value is -1, the OS default will be used.",
        "type": "integer",
        "default": 8388608,
        "examples": [8388608]
      },
      "linger_ms": {
        "title": "Linger ms",
        "description": "The producer groups together any records that arrive in between request transmissions into a single batched request.",
        "type": "string",
        "default": "-1",
        "examples": [0]
      },
      "protocol": {
        "title": "Protocol",
        "type": "object",
        "description": "Protocol used to communicate with brokers.",
        "oneOf": [
          {
            "title": "PLAINTEXT",
            "required": ["security_protocol"],
            "properties": {
              "security_protocol": {
                "type": "string",
                "enum": ["PLAINTEXT"],
                "default": "PLAINTEXT"
              }
            }
          },
          {
            "title": "SASL PLAINTEXT",
            "required": [
              "security_protocol",
              "sasl_mechanism"
            ],
            "properties": {
              "security_protocol": {
                "type": "string",
                "enum": ["SASL_PLAINTEXT"],
                "default": "SASL_PLAINTEXT"
              },
              "sasl_mechanism": {
                "title": "SASL Mechanism",
                "description": "SASL mechanism used for client connections. This may be any mechanism for which a security provider is available.",
                "type": "string",
                "default": "PLAIN",
                "enum": ["PLAIN"]
              }
            }
          },
          {
            "title": "SASL SSL",
            "required": [
              "security_protocol",
              "sasl_mechanism"
            ],
            "properties": {
              "security_protocol": {
                "type": "string",
                "enum": ["SASL_SSL"],
                "default": "SASL_SSL"
              },
              "sasl_mechanism": {
                "title": "SASL Mechanism",
                "description": "SASL mechanism used for client connections. This may be any mechanism for which a security provider is available.",
                "type": "string",
                "default": "GSSAPI",
                "enum": [
                  "GSSAPI",
                  "OAUTHBEARER",
                  "SCRAM-SHA-256",
                  "SCRAM-SHA-512",
                  "PLAIN"
                ]
              }
            }
          }
        ]
      }
    }
  }
}